<ion-header [translucent]="true">
  <ion-toolbar>
    <div slot="start">
      <ion-button fill="clear" href="/tabs/tab1">
        <ion-title>TrendFy</ion-title>
      </ion-button>
    </div>

    <div>
      <ion-title>Suporte</ion-title>
    </div>

    <div slot="end">
      <ion-menu-button>
        <ion-icon name="menu-outline"></ion-icon>
      </ion-menu-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Lista de mensagens do suporte -->
  <ion-list>
    <ion-item *ngFor="let mensagem of mensagens; let i = index">
      <ion-avatar slot="start" *ngIf="mensagem.enviadaPorUsuario; else botAvatar">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-avatar>
      <ng-template #botAvatar>
        <ion-avatar slot="start">
          <ion-icon name="headset-outline"></ion-icon>
        </ion-avatar>
      </ng-template>
      <ion-label>
        <h2>{{ mensagem.enviadaPorUsuario ? 'VocÃª' : 'Suporte' }}</h2>
        <p>{{ mensagem.texto }}</p>
        <p class="timestamp">{{ mensagem.data | date:'shortTime' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Barra de entrada para nova mensagem -->
  <ion-toolbar slot="bottom">
    <ion-textarea slot="start" [(ngModel)]="novaMensagem" placeholder="Digite sua mensagem..."></ion-textarea>
    <ion-buttons slot="end">
      <ion-button (click)="enviarMensagem()">
        <ion-icon name="send-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-content>
